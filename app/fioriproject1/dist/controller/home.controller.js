sap.ui.define(["./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/Token","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,i,o,l,a){"use strict";return e.extend("com.app.fioriproject1.controller.home",{onInit:function(){var e=this.getView();var t=e.byId("idFNameFilterValue");var i=e.byId("idLNameFilterValue");var a=e.byId("iAgeFilterValue");var n=e.byId("idEmailFilterValue");let r=function(e){if(true){var t=e.text;return new o({key:t,text:t})}};t.addValidator(r);i.addValidator(r);a.addValidator(r);n.addValidator(r);const s=new l({fname:"",lname:"",age:"",dob:"",gender:"",email:"",phonenumber:""});this.getView().setModel(s,"localModel");this.getRouter().attachRoutePatternMatched(this.onEmployeeListLoad,this)},onEmployeeListLoad:function(){this.getView().byId("idEmployeeTable").getBinding("items").refresh()},onGoPress:function(){const e=this.getView(),o=e.byId("idFNameFilterValue"),l=o.getTokens(),a=e.byId("idLNameFilterValue"),n=a.getTokens(),r=e.byId("iAgeFilterValue"),s=r.getTokens(),d=e.byId("idEmailFilterValue"),m=d.getTokens(),g=e.byId("idEmployeeTable"),u=[];l.filter(e=>{e?u.push(new t("fname",i.EQ,e.getKey())):""});n.filter(e=>{e?u.push(new t("lname",i.EQ,e.getKey())):""});s.filter(e=>{e?u.push(new t("age",i.EQ,e.getKey())):""});m.filter(e=>{e?u.push(new t("email",i.EQ,e.getKey())):""});g.getBinding("items").filter(u)},onClearFilterPress:function(){const e=this.getView(),t=e.byId("idFNameFilterValue").removeAllTokens(),i=e.byId("idLNameFilterValue").removeAllTokens(),o=e.byId("iAgeFilterValue").removeAllTokens(),l=e.byId("idEmailFilterValue").removeAllTokens()},EmployeeDetails:function(e){const{ID:t,fname:i}=e.getSource().getSelectedItem().getBindingContext().getObject();const o=this.getRouter();o.navTo("RouteDetails",{empId:t,empName:i})},addbutton:async function(){if(!this.oCreateEmployeeDialog){this.oCreateEmployeeDialog=await this.loadFragment("CreateEmployeeDialog")}this.oCreateEmployeeDialog.open()},onCloseDialog:function(){if(this.oCreateEmployeeDialog.isOpen()){this.oCreateEmployeeDialog.close()}},onCreateEmployee:async function(){const e=this.getView().getModel("localModel").getProperty("/"),t=this.getView().getModel("ModelV2");try{await this.createData(t,e,"/employee");this.getView().byId("idEmployeeTable").getBinding("items").refresh();this.oCreateEmployeeDialog.close()}catch(e){this.oCreateEmployeeDialog.close();a.error("Some technical Issue")}}})});